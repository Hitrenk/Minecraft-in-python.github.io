<!doctype html>
<html>
	<head>
		<title>Minecraft in python - Article</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css">
		<link rel="stylesheet" href="source/css/main.css">
		<script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/dompurify@2.2.7/dist/purify.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
		<script src="source/js/main.js"></script>
		<script>
			$(document).ready(function () {
				changeSite();
				getRecentCommit("Minecraft-in-python/Minecraft-in-python.github.io", "p#footer");
				site = `article/${location.search.slice(1)}`;
				found = false;
				$.get("json/list.json", function (data, status) {
					for (article of data) {
						if (article["url"] == location.search.slice(1)) {
							found = true;
							$.get(site, function (data, status) {
								if (site.slice(-5) == ".html") {
									$("div#article").html(data);
								} else {
									$("div#article").html(DOMPurify.sanitize(marked(data)));
								}
							});
							search = location.search.slice(1);
							document.title = `${article["name"]} - Article`;
							gitalk = new Gitalk({
								clientID: "c084f4088b9ed1d68b71",
								clientSecret: "0bb9d458d7853398027679ea28eaa1688222a0b9",
								repo: "gitalk-comment",
								owner: "minecraft-in-python",
								admin: ["ismaelxyz", "jason-bowen-zheng", "wzh656"],
								id: location.search.slice(1),
								title: (search.indexOf(".md") == -1)? search.slice(0, -5): search.slice(0, -3),
								createIssueManually: true,
							});
							if (article["enableGitalk"]) {
								gitalk.render("gitalk-container");
							} else {
								setInterval(function () {
									$("#gitalk-container").html("");
								}, 100);
							}
						}
					}
					if (!found) {
						s = "<h1 align='center'>Oops!</h1>";
						s += `<p>File <code>${location.search.slice(1)}</code> not found.`;
						$("div#article").html(s);
					}
				});
			});
		</script>
	</head>
	<body>
		<nav class="navbar navbar-light bg-light">
			<div class="navbar-header">
				<a href="index.html" class="navbar-brand">
					<img src="source/img/icon.png" class="rounded-sm" width="30" height="30">
					Article&nbsp;&nbsp;
				</a>
			</div>
			<form class="form-inline">
				<button class="btn btn-link"><a href="article.html">Article</a></button>
				<div class="dropdown">
					<a class="dropdown-toggle btn btn-link" href="javascript:void(0)" role="botton" id="d" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Docs</a>
					<div class="dropdown-menu dropdown-menu-sm-right" aria-labelledby="d">
						<a class="dropdown-item" href="https://Minecraft-in-python.github.io/docs" target="_blank">Game</a>
						<a class="dropdown-item"href="javascript:void(0)">pyforge</a>
					</div>
				</div>
				<button class="btn btn-link"><a href="download.html">Download</a></button>
			</form>
		</nav>
		<div id="article" class="p-1"></div>
		<div id="gitalk-container"></div>
		<footer>
			<hr>
			<p id="footer">Build with <a href="https://getbootstrap.com/">Bootstrap v4.5.3</a>.
			View this website on
			<a class="no-transfer" href="https://github.com/Minecraft-in-python/Minecraft-in-python.github.io">Github</a> or <a href="https://gitee.com/Minecraft-in-python/Minecraft-in-python">Gitee</a>. </p>
		</footer>
	</body>
</html>
